(window.webpackJsonp=window.webpackJsonp||[]).push([[10,6],{328:function(e,t,n){n(5);var r=n(341),o=n(336);e.exports={buildCardsData:function(e,t,n,r,o){var data=[];for(var c in r){if("Translated"===t){if(r[c]===o[c])continue}else if("To be translated"===t&&r[c]!==o[c])continue;var l={page:n,language:e,strKey:c,originalStr:r[c],translatedStr:o[c],cardColor:r[c]===o[c]?"border-left: 4px solid green;":"border: none"};data.push(l)}return data},buildEditedTranslatedFile:function(e,t){for(var n in t)e[n]=t[n];return e},getLanguages:function(e){return e.languages.filter((function(e){return"en"!==e}))},downloadFileJSON:function(e,t){var n=o.unflatten(t,{delimiter:"/"}),r=JSON.stringify(n,null,2),c=new Blob([r],{type:"application/json"}),a=document.createElement("a");a.download="reference_"+e,a.href=URL.createObjectURL(c),a.dataset.downloadurl=["application/json",a.download,a.href].join(":"),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((function(){URL.revokeObjectURL(a.href)}),1500)},downloadFileYAML:function(e,t){var n=o.unflatten(t,{delimiter:"/"}),c=r.safeDump(n),l=new Blob([c],{type:"application/x-yaml"}),a=document.createElement("a");a.download="website_"+e,a.href=URL.createObjectURL(l),a.dataset.downloadurl=["application/x-yaml",a.download,a.href].join(":"),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((function(){URL.revokeObjectURL(a.href)}),1500)}}},332:function(e,t,n){"use strict";n.r(t);var r=n(207),o=n(417),c=n(152),l=n(416),d=n(419),f=n(418),m=n(14),h=(n(50),n(328)),v=n.n(h),w={props:{page:{type:String,default:function(){return""}}},fetch:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://raw.githubusercontent.com/processing/p5.js-website/main/package.json",t.next=3,e.$http.$get("https://raw.githubusercontent.com/processing/p5.js-website/main/package.json");case 3:n=t.sent,e.languages=v.a.getLanguages(n);case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{languages:[],language:"",originalFileSHA:"",translatedFileSHA:"",filterOption:"",filterOptions:["All","Translated","To be translated"]}},methods:{emitLang:function(e){this.$emit("setLang",this.language)},emitFilter:function(e){this.$emit("setFilter",this.filterOption)},downloadFile:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="p5js-website-translator.files.".concat(e.page,".").concat(e.language),t.next=3,e.$localForage.getItem(n);case 3:return r=t.sent,o="p5js-website-translator.changes.".concat(e.page,".").concat(e.language),t.next=7,e.$localForage.getItem(o);case 7:c=t.sent,l=v.a.buildEditedTranslatedFile(r.file,c),"reference"===e.page?v.a.downloadFileJSON(e.language,l):v.a.downloadFileYAML(e.language,l);case 10:case"end":return t.stop()}}),t)})))()},restoreFile:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="p5js-website-translator.changes.".concat(e.page,".").concat(e.language),t.next=3,e.$localForage.setItem(n,{});case 3:e.$nuxt.refresh();case 4:case"end":return t.stop()}}),t)})))()},getCommitSHAs:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="p5js-website-translator.files.".concat(e.page,".").concat(e.language),t.next=3,e.$localForage.getItem(n);case 3:return r=t.sent,o="p5js-website-translator.files.".concat(e.page,".").concat(e.language),t.next=7,e.$localForage.getItem(o);case 7:c=t.sent,e.originalFileSHA=r.commitSHA,e.translatedFileSHA=c.commitSHA;case 10:case"end":return t.stop()}}),t)})))()},isLanguageSet:function(e){return 0===e.length}},fetchOnServer:!1},x=n(77),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t(l.a,{staticClass:"d-flex justify-space-between"},[t(o.a,{attrs:{cols:"6",md:"4"}},[t(d.a,{attrs:{label:"Language",outlined:"",dense:"",items:e.languages},on:{change:e.emitLang},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}})],1),e._v(" "),t(f.a),e._v(" "),t(o.a,{attrs:{cols:"6",md:"4"}},[t(d.a,{attrs:{label:"Filter",outlined:"",dense:"",items:e.filterOptions,disabled:e.isLanguageSet(e.language)},on:{change:e.emitFilter},model:{value:e.filterOption,callback:function(t){e.filterOption=t},expression:"filterOption"}})],1),e._v(" "),t(o.a,{attrs:{cols:"6",md:"2"}},[t(r.a,{attrs:{justified:"","min-height":"40",disabled:e.isLanguageSet(e.language)},on:{click:function(t){return e.restoreFile()}}},[e._v("\n      RESTORE\n    ")])],1),e._v(" "),t(o.a,{attrs:{cols:"6",md:"2"}},[t(r.a,{staticClass:"white--text",attrs:{color:"green lighten-1","min-height":"40",download:"",disabled:e.isLanguageSet(e.language)},on:{click:function(t){return e.downloadFile()}}},[e._v("\n      DOWNLOAD\n      "),t(c.a,{attrs:{right:""}},[e._v("mdi-download")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},343:function(e,t,n){"use strict";n.r(t);var r=n(207),o=n(325),c=n(323),l=n(417),d=n(320),f=n(152),m=n(416),h=n(368),v=n(367),w=n(14),x=(n(50),{props:{source:{type:Object,default:function(){return{}}}},methods:{saveChange:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.source.strKey,r=e.source.translatedStr,o="p5js-website-translator.files.".concat(e.source.page,".").concat(e.source.language),t.next=5,e.$localForage.getItem(o);case 5:return c=t.sent,l="p5js-website-translator.changes.".concat(e.source.page,".").concat(e.source.language),t.next=9,e.$localForage.getItem(l);case 9:if(d=t.sent,r!==c.file[n]){t.next=17;break}if(!d[n]){t.next=15;break}return delete d[n],t.next=15,e.$localForage.setItem(l,d);case 15:t.next=22;break;case 17:return d||(d={}),d[n]=r,t.next=21,e.$localForage.setItem(l,d);case 21:e.$nuxt.refresh();case 22:case"end":return t.stop()}}),t)})))()},originalVal:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.source.strKey,r="p5js-website-translator.files.".concat(e.source.page,".").concat(e.source.language),t.next=4,e.$localForage.getItem(r);case 4:o=t.sent,c=o.file[n],e.source.translatedStr=c;case 7:case"end":return t.stop()}}),t)})))()},editedVal:function(){this.$nuxt.refresh()},restoreKey:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.source.strKey,r="p5js-website-translator.changes.".concat(e.source.page,".").concat(e.source.language),t.next=4,e.$localForage.getItem(r);case 4:return delete(o=t.sent)[n],t.next=8,e.$localForage.setItem(r,o);case 8:e.$nuxt.refresh();case 9:case"end":return t.stop()}}),t)})))()},isLangChosen:function(){return 0===this.source.language.length}}}),j=n(77),component=Object(j.a)(x,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex"},[t(o.a,{staticClass:"my-3",attrs:{elevation:1}},[t(d.a,[t("div",{staticClass:"pl-2",style:e.source.cardColor},[t(m.a,[t(l.a,{staticClass:"pa-0",attrs:{cols:"4"}},[t(c.c,[e._v(e._s(e.source.strKey))])],1),e._v(" "),t(l.a,{staticClass:"col-8 pa-0"},[t(c.a,{staticClass:"justify-end"},[t(v.a,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,c=n.attrs;return[t(r.a,e._g(e._b({attrs:{icon:"",disabled:e.isLangChosen()},on:{mousedown:function(t){return e.originalVal()},mouseup:function(t){return e.editedVal()}}},"v-btn",c,!1),o),[t(f.a,[e._v("mdi-compare")])],1)]}}])},[e._v(" "),t("span",[e._v("Compare")])]),e._v(" "),t(v.a,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,c=n.attrs;return[t(r.a,e._g(e._b({attrs:{icon:"",disabled:e.isLangChosen()},on:{click:function(t){return e.restoreKey()}}},"v-btn",c,!1),o),[t(f.a,[e._v("mdi-restore")])],1)]}}])},[e._v(" "),t("span",[e._v("Restore")])])],1)],1)],1),e._v(" "),t(m.a,[t(l.a,{attrs:{cols:"6"}},[t(c.b,{staticClass:"pa-0"},[e._v(e._s(e.source.originalStr))])],1),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t(h.a,{attrs:{"auto-grow":"",outlined:"",rows:"1"},on:{change:e.saveChange},model:{value:e.source.translatedStr,callback:function(t){e.$set(e.source,"translatedStr",t)},expression:"source.translatedStr"}})],1)],1)],1)])],1)],1)}),[],!1,null,null,null);t.default=component.exports},421:function(e,t,n){"use strict";n.r(t);var r=n(355),o=n(14),c=(n(50),n(341)),l=n.n(c),d=n(336),f=n.n(d),m=n(356),h=n.n(m),v=n(343),w=n(332),x=n(328),j=n.n(x),F={components:{"virtual-list":h.a,"tool-bar":w.default},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,d,m,h,v,w,x,F,$,y,_,k,O,S,L,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},r="p5js-website-translator.files.website.en",t.next=4,e.$localForage.getItem(r);case 4:if(!(o=t.sent)){t.next=9;break}n=o.file,t.next=22;break;case 9:return"https://raw.githubusercontent.com/processing/p5.js-website/main/src/data/en.yml",t.next=12,e.$http.$get("https://raw.githubusercontent.com/processing/p5.js-website/main/src/data/en.yml");case 12:return c=t.sent,"https://api.github.com/repos/processing/p5.js-website/commits?path=src/data/en.yml",t.next=16,e.$http.$get("https://api.github.com/repos/processing/p5.js-website/commits?path=src/data/en.yml");case 16:return d=t.sent,m=d[0].sha,n=f.a.flatten(l.a.safeLoad(c),{delimiter:"/"}),h={commitSHA:m,file:n},t.next=22,e.$localForage.setItem(r,h);case 22:if(v={},!e.language){t.next=52;break}return w="p5js-website-translator.files.website."+e.language,t.next=27,e.$localForage.getItem(w);case 27:if(!(x=t.sent)){t.next=36;break}return F="p5js-website-translator.changes.website."+e.language,t.next=32,e.$localForage.getItem(F);case 32:$=t.sent,v=j.a.buildEditedTranslatedFile(x.file,$),t.next=52;break;case 36:return y="https://raw.githubusercontent.com/processing/p5.js-website/main/src/data/"+e.language+".yml",t.next=39,e.$http.$get(y);case 39:return _=t.sent,k="https://api.github.com/repos/processing/p5.js-website/commits?path=src/data/"+e.language+".yml",t.next=43,e.$http.$get(k);case 43:return O=t.sent,S=O[0].sha,v=f.a.flatten(l.a.safeLoad(_),{delimiter:"/"}),L={commitSHA:S,file:v},t.next=49,e.$localForage.setItem(w,L);case 49:return R="p5js-website-translator.changes.website."+e.language,t.next=52,e.$localForage.setItem(R,{});case 52:e.data=j.a.buildCardsData(e.language,e.filterOption,"website",n,v);case 53:case"end":return t.stop()}}),t)})))()},data:function(){return{item:v.default,data:[],strKey:"",language:"",filterOption:""}},methods:{setLanguage:function(e){this.language=e,this.$nuxt.refresh()},setFilter:function(e){this.filterOption=e,this.$nuxt.refresh()}},fetchOnServer:!1},$=n(77),component=Object($.a)(F,(function(){var e=this,t=e._self._c;return t(r.a,{attrs:{column:"","justify-center":"","align-center":""}},[t("tool-bar",{attrs:{page:"website"},on:{setLang:function(t){return e.setLanguage(t)},setFilter:function(t){return e.setFilter(t)}}}),e._v(" "),t("virtual-list",{staticClass:"list",staticStyle:{height:"100vh","overflow-y":"auto",width:"100%"},attrs:{"data-key":"strKey","data-sources":e.data,"data-component":e.item,"estimate-size":50,keeps:50}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ToolBar:n(332).default})}}]);